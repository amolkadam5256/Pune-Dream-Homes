// backend/prisma/schema.prisma

generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["driverAdapters"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// ==================== ENUMS ====================

enum Role {
  ADMIN
  CUSTOMER
  BUILDER
}

// ==================== USER MANAGEMENT ====================

model User {
  id              String    @id @default(uuid())
  
  // Login & Authentication
  email           String    @unique
  password        String
  role            Role      @default(CUSTOMER)
  isVerified      Boolean   @default(false)
  isActive        Boolean   @default(true)
  
  // Basic Profile Information
  firstName       String?
  lastName        String?
  phone           String?
  profileImage    String?
  
  // Additional Profile Details
  dateOfBirth     DateTime?
  age             Int?
  gender          String?   // Male, Female, Other
  address         String?   @db.Text
  city            String?
  state           String?
  country         String?   @default("India")
  pincode         String?
  
  // Professional/Additional Info
  occupation      String?
  companyName     String?
  bio             String?   @db.Text
  website         String?
  
  // Preferences
  preferredLanguage String? @default("English")
  notificationEnabled Boolean @default(true)
  emailNotifications Boolean @default(true)
  smsNotifications Boolean @default(true)
  
  // Metadata
  lastLoginAt     DateTime?
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt

  @@map("users")
}